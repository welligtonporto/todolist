var createHtmlOfTaskItem=function(t,e){var s='<li id="'+t+'" class="list-group-item"><div class="row"><div class="col-6 col-sm-8"><span class="task-item-title">'+e+'</span></div><div class="col-6 col-sm-4"><div class="float-right"><button class="btn btn-danger mr-1 del-task"><i class="icon-trash"></i></button><button class="btn btn-success done"><i class="icon-ok"></i></button><button class="btn btn-primary undo" style="display: none;"><i class="icon-ok"></i></button></div></div></div></li>';$("#todolist").append(s)},loadToDoList=function(){if(existingTasks=localStorage.length,existingTasks)for(var t=0;t<existingTasks;t++)idThisTask=localStorage.key(t),thisTaskItem=JSON.parse(localStorage.getItem(idThisTask)),"deleted"!=thisTaskItem.status&&(createHtmlOfTaskItem(idThisTask,thisTaskItem.title),"done"==thisTaskItem.status&&($("#"+idThisTask).addClass("disabled"),$("#"+idThisTask+" .btn-success").hide(),$("#"+idThisTask+" .btn-primary").show()))}(),$newTask=$($("#newtask"));$("#addtask").on("click",function(){var t=$newTask.val();t&&(idTaskItemForAdd=Date.now(),createHtmlOfTaskItem(idTaskItemForAdd,t),addLocalStorage(idTaskItemForAdd,t,"todo"),$newTask.val(""))});var addLocalStorage=function(t,e,s){dataTaskItemForAdd={title:e,status:s},localStorage.setItem(t,JSON.stringify(dataTaskItemForAdd))},titleTaskItem=".task-item-title";$("body").on("click",".del-task",function(){idTaskItemForDelete=$(this).parents().eq(3).attr("id"),titleTaskItemForDelete=$("#"+idTaskItemForDelete+" "+titleTaskItem).text(),$("#"+idTaskItemForDelete).remove(),addLocalStorage(idTaskItemForDelete,titleTaskItemForDelete,"deleted")}),$("body").on("click",".done",function(){idTaskItemForDone=$(this).parents().eq(3).attr("id"),titleTaskItemForDone=$("#"+idTaskItemForDone+" "+titleTaskItem).text(),$("#"+idTaskItemForDone).addClass("disabled"),$("#"+idTaskItemForDone+" .btn-success").hide(),$("#"+idTaskItemForDone+" .btn-primary").show(),console.log(idTaskItemForDone),console.log(titleTaskItemForDone),addLocalStorage(idTaskItemForDone,titleTaskItemForDone,"done")}),$("body").on("click",".undo",function(){idTaskItemForUndo=$(this).parents().eq(3).attr("id"),titleTaskItemForUndo=$("#"+idTaskItemForUndo+" "+titleTaskItem).text(),$("#"+idTaskItemForUndo).removeClass("disabled"),$("#"+idTaskItemForUndo+" .btn-success").show(),$("#"+idTaskItemForUndo+" .btn-primary").hide(),addLocalStorage(idTaskItemForUndo,titleTaskItemForUndo,"undo")});